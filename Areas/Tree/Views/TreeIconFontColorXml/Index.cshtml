@{
    ViewBag.SourceFiles = "~/Areas/Tree/Content/tree_iconfont_randomcolor.xml";
    ViewBag.Title = "Tree/TreeIconFontColorXml";
    var F = Html.F();
}

@section head {

    <style>
        @ViewBag.DynamicCSS
    </style>

}

@section body {

    @(F.Tree().IsFluid(true).CssClass("blockpanel").ID("Tree1").ShowHeader(true).Title("树控件")
        .Nodes((TreeNode[])ViewBag.Tree1Nodes)
    )
    <br>

    @(F.Button().ID("btnGetSelectedNode").OnClick(Url.Action("btnGetSelectedNode_Click"), new Parameter("selectedNode", "getSelectedNode()")).CssClass("marginr").Text("获取选中的节点"))
    <br>

    @(F.Label().ID("labResult"))


}

@section script {

    <script>

        function getSelectedNode() {
            var result;

            var selectedNode = F.ui.Tree1.getSelectedNode(true);
            if (selectedNode) {
                result = {
                    id: selectedNode.id,
                    text: selectedNode.text
                };
            }

            return F.toJSON(result);
        }

    </script>

}